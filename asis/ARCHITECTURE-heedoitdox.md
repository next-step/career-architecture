# ðŸš€ë¯¸ì…˜

- ì´ë¦„ : ìœ¤ì˜ë¹ˆ

# ê°œì„ í¬ì¸íŠ¸ ë¶„ì„

## ~~# ì¹´í”„ì¹´ í”„ë¡œë“€ì‹±, ì»¨ìŠ˜ ë¡œê·¸ì˜ ë¶€ìž¬ (ì œì™¸ (ì‹¤ë¬´ì—ì„œ ì ìš© ì™„ë£Œ))~~

- ê° ì„œë²„ë“¤ë§ˆë‹¤ ë¹„ë™ê¸° ë°ì´í„° ìš”ì²­ì€ ì¹´í”„ì¹´ë¥¼ ì‚¬ìš©í•˜ê³  ìžˆìŒ
- ì¹´í”„ì¹´ í”„ë¡œë“€ì‹±, ì»¨ìŠ˜ ê´€ë ¨ ë¡œê·¸ë¥¼ ë‚¨ê¸°ê³  ìžˆì§€ ì•Šì€ ì„œë²„ê°€ ì¡´ìž¬
- ì¹´í”„ì¹´ UI íˆ´ì—ì„œ í™•ì¸ í•˜ì§€ë§Œ ì´ë§ˆì €ë„ retention ì‹œê°„ì´ ì§€ë‚˜ë©´ ì‚¬ë¼ì ¸ ë²„ë¦¬ë‹ˆ í™•ì¸í•˜ê¸° ì–´ë ¤ì›€
- ë˜ëŠ” ë°ì´í„° ì‚½ìž… í˜¹ì€ ê°±ì‹  ì‹œê°„(updatedAt) ìœ¼ë¡œ í™•ì¸í•˜ì§€ë§Œ ì •í™•í•˜ì§€ ì•ŠìŒ
- ê·¸ë¼íŒŒë‚˜ë¡œ ëª¨ë‹ˆí„°ë§ì€ ê°€ëŠ¥í•˜ì§€ë§Œ ì–´ë–¤ ë©”ì‹œì§€ê°€ ì „ë‹¬ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê¸° ì–´ë ¤ì›€
- í‚¤ë°”ë‚˜ì—ì„œ í•„í„°ì¡°ê±´ìœ¼ë¡œ ë¡œê·¸ ê²€ìƒ‰ì´ ì–´ë ¤ì›€

## ~~# QA í˜¹ì€ ìƒˆë‹ˆí‹° í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ë°ì´í„° ìˆ˜ì • ìš”ì²­ (ì œì™¸)~~

- ë‚´ë¶€ í…ŒìŠ¤íŠ¸ ì§„í–‰ì‹œ í•„ìš”í•œ (QA) api ë¥¼ ì œê³µí•˜ê³ ìžˆìœ¼ë‚˜ api ë¥¼ í˜¸ì¶œí•  íˆ´(ex. postman)ì´ êµ¬ì„±ë˜ì–´ìžˆì§€ ì•Šì€ ë¹„ê°œë°œìžë“¤ì€ ë§¤ë²ˆ ê°œë°œíŒ€ ë˜ëŠ” QA ì—ê²Œ ìš”ì²­
- í˜¸ì¶œ í”Œëž«í¼ì„ êµ¬ì„±í•œë‹¤í•´ë„ ë‚¯ì„  ìš©ì–´ë“¤ê³¼ UI ë¡œ ë§¤ë²ˆ ê°œë°œìžë“¤ì´ ê²°êµ­ ë„ì™€ì£¼ê²Œ ë¨
- í…ŒìŠ¤íŠ¸ API ì˜ ëŒ€í•œ ë¬¸ì„œë¥¼ ë…¸ì…˜ìœ¼ë¡œ ì œê³µí•˜ê³  ìžˆì§€ë§Œ í˜¸ì¶œí•˜ê¸° ìœ„í•´ êµ¬ì„±í•´ì•¼í•˜ëŠ” ê²ƒë“¤ì´ ì–´ë µê²Œ ëŠê»´ì§ˆ ìˆ˜ ìžˆìŒ.
- í…ŒìŠ¤íŠ¸ API ì˜ ì¡´ìž¬ë„ ëª¨ë¥´ëŠ” ë¶„ë“¤ì´ ê³„ì‹œê¸° ë•Œë¬¸ì— ê²°êµ­ BE ê°œë°œìžê°€ ì§ì ‘ API ë¥¼ í˜¸ì¶œí•˜ê±°ë‚˜ ë°ì´í„°ë¥¼ ìˆ˜ì •í•¨

## #1 master db ë§Œ ì‚¬ìš©

- í˜„ìž¬ ì¸ì¦ì„œë²„ì—ì„œëŠ” master database ë§Œ ì‚¬ìš©í•˜ê³  ìžˆë‹¤.
- read / write ì—”ë“œí¬ì¸íŠ¸ê°€ 2:8 ì •ë„ì˜ ë¹„ìœ¨ (cud ì—”ë“œí¬ì¸íŠ¸ê°€ ë” ë§Žë‹¤.)
- ë¡œê·¸ì¸í•  ë•Œë§ˆë‹¤ ë°ì´í„° ì—…ë°ì´íŠ¸ë¥¼ í•˜ê³  ìžˆê³  ë¡œê·¸ì¸ ìš”ì²­ì´ ëª°ë¦¬ëŠ” ì‹œê°„ëŒ€ì— ìž˜ ì‚¬ìš©í•˜ê³  ìžˆë˜ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì˜í–¥ì´ ê°ˆ ìˆ˜ ìžˆìŒ
- ìŠ¬ë¡œìš° ì¿¼ë¦¬ë“±ì˜ ì´ìŠˆê°€ ìžˆì„ ë•Œë§ˆë‹¤ íŠ¸ëž˜í”½ì´ ì¦ê°€í•˜ë©´ ì„œë²„ì— ì—„ì²­ë‚œ ë¶€í•˜ë¥¼ ì£¼ê²Œë¨ (ì‹¤ì œë¡œ ì¸ë±ìŠ¤ í•˜ë‚˜ ì„œë²„ê°€ ì£½ëŠ” ìž¥ì• ê°€ ë°œìƒí•œ ì ì´ ìžˆìŒ)
- ìƒˆë²½ë§ˆë‹¤ ìš´ì „ë©´í—ˆ ì¸ì¦ ìž¬ê°±ì‹  í˜¹ì€ íšŒì›ì‚­ì œë“± ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” ìž‘ì—…ë“¤ì´ ëŒ€ëŸ‰ìœ¼ë¡œ ì´ë£¨ì–´ì§ˆ ë•Œ ì„œë²„ë‚˜ DB ì˜ ë¶€í•˜ê°€ ìš°ë ¤ë¨
- í™•ì¸í•´ ë³´ë‹ˆ replica rds ê°€ ì‹¤ì œë¡œ ì¡´ìž¬í•˜ê³  ìžˆìœ¼ë‚˜ (sre íŒ€ì—ì„œ ê¸°ë³¸ìœ¼ë¡œ êµ¬ì„±í•´ë’€ìŒ) í™œìš©í•˜ì§€ ëª»í•˜ê³  ìžˆì—ˆìŒ

## #2 ì‹œê°„ì œ ë³´í—˜ ìœ íš¨ê¸°ê°„ ìˆ˜ë™ ì¡°ì • (ì¶”ê°€) 

- ì‹œê°„ì œ ë³´í—˜ì— ê°€ìž…ë˜ì–´ ìžˆëŠ” ë¼ì´ë”ê°€ ì¡´ìž¬í•œë‹¤.
- ë³´í—˜ í•´ì§€ëŠ” ì§ì ‘ ë³´í—˜ì‚¬ íŽ˜ì´ì§€ì—ì„œ ì‹ ì²­ í˜¹ì€ ìœ ì„  ì „í™”ë¡œ ì‹ ì²­í•˜ê³  ìš°ë¦¬ìª½ ì„œë²„ë¡œ ë§Œë£Œ ì½œë°±ì„ ë°›ëŠ”ë‹¤. 
- í•˜ì§€ë§Œ ë°”ë¡œ ë§Œë£Œ ì½œë°±ì„ ì£¼ì§€ ì•ŠëŠ” ìƒí™©ì´ë©° (ë³´í—˜ì œíœ´ì‚¬ ì‚¬ì •) ë¼ì´ë”ëŠ” ë§Œë£Œ ì‹ ì²­ í›„ì—ë„ ë³´í—˜ë£Œê°€ ë¶€ê³¼ë  ìˆ˜ ìžˆë‹¤.(í•´ì§€ ì‹œì ì„ ê¸°ì¤€ìœ¼ë¡œ ë¶€ê³¼ëœ ë³´í—˜ë£ŒëŠ” ì²­êµ¬ë˜ì§€ ì•ŠëŠ”ë‹¤.)
- ì¶”í›„ ì¡°ì¹˜ë¡œ ë³´í—˜ë£Œê°€ ë¶€ê³¼ë˜ì§€ëŠ” ì•Šì§€ë§Œ CX ìª½ìœ¼ë¡œ ë¶ˆíŽ¸ì‚¬í•­ì´ ì ‘ìˆ˜ë˜ì–´ ê°œë°œìžê°€ ìˆ˜ë™ìœ¼ë¡œ ìœ íš¨ê¸°ê°„ì„ ë§Œë£Œ ì‹œí‚¤ê³  ìžˆë‹¤.
- ìœ íš¨ê¸°ê°„ì„ ë§Œë£Œì‹œí‚¤ê¸° ìœ„í•´ í•´ë‹¹ ë¼ì´ë”ì˜ ê°œì¸ì •ë³´ë¥¼ ë°›ì•„ì•¼í•˜ë©° ì•½ê°„ì˜ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ë¹„ìš©ì´ ë°œìƒí•œë‹¤. (CX -> PM -> DEVELOPER)
- ìœ„ì™€ ê°™ì€ ìš”ì²­ì´ ì¼ì£¼ì¼ì— 1~2 ê±´ ì •ë„ ë°œìƒí•œë‹¤.
- íƒˆí‡´ íšŒì›ì— ëŒ€í•´ì„œë„ ë³„ë„ì˜ ìœ íš¨ê¸°ê°„ ì¢…ë£Œ ì•¡ì…˜ì„ ì·¨í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— (ìµœëŒ€ 2ë‹¬ íšŒì› ì‚­ì œ ìœ íš¨ê¸°ê°„ ì¡´ìž¬) í•´ì§€ ì‹ ì²­ì„ í–ˆìŒì—ë„ ë¼ì´ë”ê°€ ë³´í—˜ ë§Œë£Œë¥¼ í™•ì¸í•˜ì§€ ëª»í•˜ë©´ CX ì— ìš”ì²­í•˜ì—¬
  ìœ„ì™€ ê°™ì€ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ì„ ê±°ì³ ìˆ˜ë™ìœ¼ë¡œ ìœ íš¨ê¸°ê°„ ë§Œë£Œë¡œ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸ í•´ì£¼ê³  ìžˆë‹¤.
- í•œ ê±´ë‹¹ ê°œì¸ì •ë³´ ì¡°íšŒ, ìˆ˜ì •, ìˆ˜ì • í™•ì¸ ì•½ 15ë¶„ ì •ë„ì˜ ê³ ì • ë¹„ìš©ì´ ë°œìƒí•˜ê³  ìžˆë‹¤.

# í”„ë¡œì„¸ìŠ¤

## ~~# ì¹´í”„ì¹´ í”„ë¡œë“€ì‹±, ì»¨ìŠ˜ ë¡œê·¸ì˜ ë¶€ìž¬ (ì œì™¸ (ì‹¤ë¬´ì—ì„œ ì ìš© ì™„ë£Œ))~~

```mermaid
flowchart TD
	Kafka

	subgraph A
		A-server(("A-server"))
		Logging_A("Logging")
	end 

	A-server --> Logging_A -. message produce .-> Kafka
	A-server --> Logging_A -. message consume .-> Kafka

	subgraph B
		B-server(("B-server"))
	end

	B-server -. message consume .-> Kafka
	B-server -. message produce .-> Kafka

	Kibana
	Logging_A -. ë¡œê·¸ ìˆ˜ì§‘ .-> Kibana

	DEVELOPER -- A ì„œë²„ ì´ë ¥ë§Œ ë¡œê·¸ í™•ì¸ --> Kibana
	
```

## ~~# QA í˜¹ì€ ìƒˆë‹ˆí‹° í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ë°ì´í„° ìˆ˜ì • ìš”ì²­ (ì œì™¸)~~

```mermaid
flowchart TD	
	subgraph í…ŒìŠ¤íŠ¸ ì§„í–‰ì¤‘
		TESTER_A("PM") -- ë°ì´í„°ìˆ˜ì •ìš”ì²­ --> BE
		TESTER_B("ë””ìžì´ë„ˆ") -- ë°ì´í„°ìˆ˜ì •ìš”ì²­ --> BE
		TESTER_C("ì•±ê°œë°œìž") -- ë°ì´í„°ìˆ˜ì •ìš”ì²­ --> BE
		TESTER_D("QA") --ë°ì´í„°ìˆ˜ì •ìš”ì²­ --> BE
		BE("ë°±ì—”ë“œê°œë°œìž")
	end
```

## #1 master db ë§Œ ì‚¬ìš©

```mermaid
flowchart 
	Oauth-server -- Write --> Master
	Master[(Master RDS)] -- Read --> Oauth-server

	subgraph AWS Region
		Oauth-server
		Master
		
		subgraph AWS Cloud
		Master
		Replica[(Replica RDS)]
		Master -- Synchronuous replication --> Replica
	  end
	end
```

## #2 ì‹œê°„ì œ ë³´í—˜ ìœ íš¨ê¸°ê°„ ìˆ˜ë™ ì¡°ì • (ì¶”ê°€)

```mermaid
flowchart TD
    ë¼ì´ë” -- ë³´í—˜í•´ì§€ìš”ì²­ --> ë³´í—˜ì‚¬
    ë¼ì´ë” -- ë§Œë£Œ ìƒíƒœ ë³€ê²½ ìš”ì²­ --> CXíŒ€
	CXíŒ€ --> PM
    PM --> DEVELOPER
    DEVELOPER -- ìˆ˜ë™ ìƒíƒœ ë³€ê²½ --> DB[(DB)]
```