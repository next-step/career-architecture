# career-architecture
## ðŸš€ ë¯¸ì…˜

## #1 master db ë§Œ ì‚¬ìš© -> master / slave DB ì‚¬ìš©

### ê¸°ëŒ€íš¨ê³¼ ë¶„ì„
- ì¿¼ë¦¬ ìš”ì²­ì„ ë¶„ë‹´í•¨ìœ¼ë¡œì¨ DB ë¶€í•˜ë¥¼ ë¶„ì‚°í•  ìˆ˜ ìžˆë‹¤. (í˜„ìž¬ Read transaction ì´ Write transaction ì— ë¹„í•´ 3ë°° ì •ë„ ë§Žë‹¤.)
- Slave ì¤‘ í•˜ë‚˜ë¥¼ Masterë¡œ í™œìš©í•˜ë©´ ë˜ê¸° ë•Œë¬¸ì— ë°ì´í„°ë¥¼ ë°±ì—…í•˜ëŠ” ìš©ë„ë¡œë„ ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤.
- íŠ¸ëž˜í”½ì´ ëŠ˜ì–´ë‚¨ì— ë”°ë¥¸ ë³‘ëª©í˜„ìƒì„ ì™„í™” ì‹œí‚¬ ìˆ˜ ìžˆë‹¤.

### í”„ë¡œì„¸ìŠ¤
```mermaid
flowchart 
	Oauth-server -- Write --> Master

	subgraph AWS Region
		Oauth-server
		Master
		
		subgraph AWS Cloud
		Master[(Master RDS)]
		Replica[(Replica RDS)]
		Master -- Synchronuous replication --> Replica
	  end
	end

    Replica -- Read --> Oauth-server
```

## #2 ì‹œê°„ì œ ë³´í—˜ ë§Œë£Œ ìƒíƒœ ì—…ë°ì´íŠ¸

### ê¸°ëŒ€íš¨ê³¼ ë¶„ì„
- ê´€ë¦¬ìžê°€ ë¼ì´ë”ì˜ ë³´í—˜ ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìžˆëŠ” API ë¥¼ ì œê³µí•œë‹¤.
- ë¼ì´ë” íšŒì› íƒˆí‡´ì‹œ ì´ë²¤íŠ¸ ë°©ì‹ìœ¼ë¡œ ìš´í–‰ì„œë²„ì—ì„œ ì´ë²¤íŠ¸ë¥¼ ì»¨ìŠˆë°í•˜ì—¬ íƒˆí‡´ íšŒì›ì˜ ì¡´ìž¬í•˜ëŠ” ì‹œê°„ì œë³´í—˜ ìƒíƒœë¥¼ ë§Œë£Œë¡œ ì—…ë°ì´íŠ¸ í•œë‹¤. 
- ë¹„íš¨ìœ¨ì ì¸ ìˆ˜ë™ ë°ì´í„° ìˆ˜ì •ì— ê±¸ë¦¬ëŠ” 30ë¶„ ì •ë„ì˜ ì‹œê°„ì„ ì œê±°í•  ìˆ˜ ìžˆë‹¤.
- CX íŒ€ê³¼ ê°œë°œíŒ€ê°„ì˜ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ì´ í•„ìš”ì—†ì–´ì§„ë‹¤.
- ì´ë²¤íŠ¸ ë°©ì‹ìœ¼ë¡œ ìž‘ë™í•˜ë¯€ë¡œ ì¶”í›„ íƒ€ ë„ë©”ì¸ì— íšŒì› íƒˆí‡´ í›„ì— ì ìš©ë˜ì–´ì•¼ í•  ì•¡ì…˜ì´ ìƒê¸´ë‹¤ë©´ ì¶”ê°€í•˜ê¸° ì‰½ë‹¤.

### í”„ë¡œì„¸ìŠ¤
- ë³´í—˜ í•´ì§€ ìš”ì²­
```mermaid
flowchart LR
    ë¼ì´ë” -- ë§Œë£Œ ìƒíƒœ ë³€ê²½ ìš”ì²­ --> CXíŒ€
	CXíŒ€ -- ë¼ì´ë” ë³´í—˜ ìƒíƒœ ë³€ê²½--> ê´€ë¦¬ìžì›¹
```

- íƒˆí‡´ ìš”ì²­
```mermaid
flowchart LR
    ë¼ì´ë” -- íƒˆí‡´ìš”ì²­ --> íƒˆí‡´
    íƒˆí‡´ -- íšŒì› ìƒíƒœ ë³€ê²½ ìš”ì²­ --> íšŒì›ì„œë²„ 
    íšŒì›ì„œë²„(ì„œë²„) -- ìˆ˜ì • --> DB_A[(DB)]

    subgraph íšŒì› Domain
		íšŒì›ì„œë²„
		DB_A
	end

    Kafka[Kafka]
    íšŒì›ì„œë²„ -- íƒˆí‡´ íšŒì› ì •ë³´ produce --> Kafka
    ìš´í–‰ì„œë²„ -- íƒˆí‡´ íšŒì› ì •ë³´ consume --> Kafka

    subgraph ìš´í–‰ Domain
		ìš´í–‰ì„œë²„(ì„œë²„)
		DB_B[(DB)]
	end

    ìš´í–‰ì„œë²„ -- ì‹œê°„ì œ ë³´í—˜ ìƒíƒœ ë§Œë£Œ ì—…ë°ì´íŠ¸ --> DB_B
```